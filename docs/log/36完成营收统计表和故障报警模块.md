# 36完成营收统计表和故障报警模块

## 静态页面的写法
- 先写结构、再写样式
- 如果已经有相似的代码，那么直接copy过来，不要再手动写了。

```vue
<el-icon>
    <CaretTop></CaretTop>
    <CaretBottom></CaretBottom>
</el-icon>
```

## 营收统计表
```vue
<template>
    <el-card>
        <template #header>营收统计表</template>
        <ul>
            <li class="revenue-item" v-for="item in  revenueList" :key="item.rank">
            <span class="item-rank">{{ item.rank }}</span>
            <span class="item-title">{{ item.city }}</span>
            <span class="item-num">{{ item.num }}</span>
            <span class="item-percent">{{item.ratio}}</span>
            <span class="item-icon">
                <el-icon color="#67C23A" v-if="item.trend>0"><CaretTop /></el-icon>
                <el-icon color="#F56C6C" v-else-if="item.trend<0"><CaretBottom /></el-icon>
                <el-icon v-else>
                -
                </el-icon>
            </span>
            </li>
        </ul>
    </el-card>
</template>
<script setup lang='ts'>
const revenueList = reactive([
  {
    rank: 1,
    city: "广州",
    num: "52,457",
    ratio: "24%",
    trend: 0.1,
  },
  {
    rank: 2,
    city: "上海",
    num: "323,234",
    ratio: "24%",
    trend: -0.1,
  },
  {
    rank: 3,
    city: "佛山",
    num: "192,255",
    ratio: "24%",
    trend: 0,
  },
  {
    rank: 4,
    city: "珠海",
    num: "17,540",
    ratio: "24%",
    trend: 0.1,
  },
  {
    rank: 5,
    city: "深圳",
    num: "662,337",
    ratio: "24%",
    trend: -0.1,
  },
  {
    rank: 6,
    city: "厦门",
    num: "22,941",
    ratio: "24%",
    trend: 0.1,
  },
  {
    rank: 7,
    city: "长沙",
    num: "565,221",
    ratio: "24%",
    trend: 0.1,
  },
]);
</script>
<style lang="less" scoped>
.revenue-item {
  display: flex;
  padding: 10px 10px;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
}
.revenue-item:nth-child(even) {
  background-color: #fcf6ec;
}
.item-rank {
  display: inline-block;
  width: 24px;
  height: 24px;
  font-weight: bold;
  border-radius: 50%;
  text-align: center;
}
li:nth-of-type(1) .item-rank {
  background-color: #5fb634;
  color: #fff;
}
li:nth-of-type(2) .item-rank {
  background-color: #3593f2;
  color: #fff;
}
li:nth-of-type(3) .item-rank {
  background-color: #d4983d;
  color: #fff;
}
.item-num {
  margin-right: 20px;
}
.item-percent {
  margin-right: 10px;
}
.item-title {
  margin-left: 10px;
  flex-grow: 1;
}
</style>
```

## 故障报警模块
```vue
<template>
<el-card class="mt">
    <template #header> 故障报警 </template>
    <el-timeline style="max-width: 600px">
        <el-timeline-item
        v-for="(item,index) in warningList"
        :key="index"
        :timestamp="item.time"
        placement="top"
        :hollow="true"
        :type="item.status === 'abnormal'?'warning':'danger'"
        >
        <el-card>
            <h4>{{ item.title }}</h4>
        </el-card>
        </el-timeline-item>
    </el-timeline>
    </el-card>
</template>
<script setup lang='ts'>
const warningList = reactive([
  {
    time:"2025/06/01",
    title:"充电桩1号故障",
    status:"abnormal", // 异常
  },
  {
    time:"2025/06/05",
    title:"充电站2号停止运行",
    status:"fatal", // 故障
  },
  {
    time:"2025/06/08",
    title:"充电桩3号故障",
    status:"abnormal", // 异常
  },
])
</script>
```




## 知识点
### :nth-child(n)和nth-of-type(n)
#### :nth-child(n)的判断逻辑
```html
<div>
    <span>1</span>
    <p>2</p>
    <p>3</p>
</div>
<style>
    p:nth-child(1){
        color:red
    }
</style>
```
1. 找上级元素：首先找p元素的上级元素，这里是div。
2. 按照顺序找元素：因为匹配的是nth-child(1)，是div的直接子元素，这里找第一个子元素，是span。
3. 判断是否相同元素：因为第一个子元素是span，匹配不上p，所以样式无效。
4. 应用样式

#### :nth-of-type(n)的判断逻辑
```html
<div>
    <span>1</span>
    <p>2</p>
    <p>3</p>
</div>
<style>
    p:nth-of-type(1){
        color:red
    }
</style>
```
1. 找上级元素：首先找p元素的上级元素，这里是div。
2. 寻找同类元素：nth-of-type代表上级元素下的同一类型的元素。这里是p元素。
3. 按照顺序找元素：因为匹配的是nth-of-type(1)。匹配`<p>2</p>`
4. 应用样式

#### 异同点
1. 相同
- 所有 :nth-* 的前提是：该元素是某个父元素的直接子节点。
    - 必须是直接子元素：都只能作用在 某个元素的第一层子元素 上。
    - 跨层级无效：孙子元素、后代元素都无法使用这两个选择器选择。
2. 不同
（1）nth-child(n)：根据所有子元素的顺序来定位
（2）nth-of-type(n)：根据某种类型的元素来定位（如第 3 个 `<div>`）	